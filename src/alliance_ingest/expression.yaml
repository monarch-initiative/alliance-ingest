name: 'alliance_gene_to_expression'

reader:
  files:
    - '../../data/EXPRESSION_RGD.json.gz'
    - '../../data/EXPRESSION_MGI.json.gz'
    - '../../data/EXPRESSION_ZFIN.json.gz'
    - '../../data/EXPRESSION_FB.json.gz'
    - '../../data/EXPRESSION_WB.json.gz'
    - '../../data/EXPRESSION_SGD.json.gz'
  format: 'json'
  json_path:
    - 'data'
  required_properties:
    # Various nested JSON properties needed, but can't be specified yet 
    # Target of Koza Issue https://github.com/monarch-initiative/koza/issues/80
    #  - metaData.crossReference.id                # "ZFIN"
    #  - basicGeneticEntity.primaryId              # "ZFIN:ZDB-GENE-031222-3"
    #  - crossReference.id                         # "ZFIN:ZDB-FIG-080908-4" => "https://zfin.org/ZDB-FIG-080908-4"
    #  - whenExpressed.stageTermId                 # "ZFS:0000035"
    - 'assay'                                     # "MMO:0000655"
    #  - whereExpressed.cellularComponentTermId    # "GO:0005737",
    #  - whereExpressed.anatomicalStructureTermId  # "ZFA:0001094",
    #  - evidence.publicationId                    # "PMID:18544660"

transform:
  code: 'expression.py'

writer:
  edge_properties:
    - 'id'
    - 'subject'
    - 'predicate'
    - 'object'
    - 'stage_qualifier'
    - 'category'
    - 'qualifiers'
    - 'publications'
    - 'aggregator_knowledge_source'
    - 'primary_knowledge_source'
    - 'knowledge_level'
    - 'agent_type'
  min_edge_count: 1800000
